<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>미에로화이바 반응형웹</title>
  <!-- 초기화 -->
  <link href="./css/reset.css" rel="stylesheet" type="text/css">
  <!-- 공통서식 (글꼴, 크기, 색상, 링크) -->
  <link href="./css/base.css" rel="stylesheet" type="text/css">
  <!-- pc화면 해상도일 때 적용되는 서식 -->
  <link href="./css/pc.css" rel="stylesheet" type="text/css">
  <!-- tablet화면 해상도일 때 적용되는 서식 -->
  <link href="./css/tablet.css" rel="stylesheet" type="text/css">
  <!-- mobile화면 해상도일 때 적용되는 서식 -->
  <link href="./css/mobile.css" re="stylesheet" type="text/css">
  <!-- 폰트어썸 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">


</head>
<body>
  <!-- 헤더영역 시작 -->
  <header>
    <h1>
      <a href="index.html" title="메인페이지로 바로가기">
        <img src="./images/logo2.png" alt="상단로고">
      </a>
    </h1>

    <!-- 모바일 버전에서 나오는 토글버튼 -->
    <div id="toggle">
      <span>&nbsp;</span>
      <span>&nbsp;</span>
      <span>&nbsp;</span>
    </div>

    <!-- 메인메뉴 -->
    <nav class="gnb">
      <ul>
        <li><a href="#" title="미에로">미에로<i class="fas fa-angle-down"></i></a>
          <ul class="sub">
            <li><a href="#" title="브랜드 스토리">브랜드 스토리</a></li>
            <li><a href="#" title="식이섬유 스토리">식이섬유 스토리</a></li>
          </ul>
        </li>
        <li><a href="#" title="제품소개">제품소개<i class="fas fa-angle-down"></i></a>
          <ul class="sub">
            <li><a href="#" title="미에로화이바">미에로화이바</a></li>
            <li><a href="#" title="미에로화이바 스파클링 제로">미에로화이바 스파클링 제로</a></li>
            <li><a href="#" title="헬씨올리고">헬씨올리고</a></li>
            <li><a href="#" title="헬씨올리고 프로바이오틱스">헬씨올리고 프로바이오틱스</a></li>
          </ul>
        </li>
        <li><a href="#" title="미에로스토리">미에로스토리<i class="fas fa-angle-down"></i></a>
          <ul class="sub">
            <li><a href="#" title="TV광고">TV광고</a></li>
            <li><a href="#" title="인쇄광고">인쇄광고</a></li>
            <li><a href="#" title="프로모션">프로모션</a></li>
          </ul>
        </li>
        <li><a href="#" title="미에로이벤트">미에로이벤트<i class="fas fa-angle-down"></i></a>
          <ul class="sub">
            <li><a href="#" title="진행중인 이벤트">진행중인 이벤트</a></li>
            <li><a href="#" title="당첨자 발표">당첨자 발표</a></li>
          </ul>
        </li>
        <li><a href="#" title="공지사항">공지사항</a></li>
      </ul>
    </nav>

  </header>

  <!-- 메인영역 시작 -->
  <main>
    <!-- 1. 메인슬라이드 -->
    <article class="visual">
      <h2>메인슬라이드</h2>
      <div class="slide1">
        <span>이제 짜릿하게 즐기자!<br>미에로화이바 스파클링 제로</span>
        <img src="./images/visual01.jpg" alt="메인이미지1">
      </div>
      <div class="slide2">
        <span>마시는 식이섬유<br>미에로화이바</span>
        <img src="./images/visual02.jpg" alt="메인이미지2">
      </div>
      <div class="slide3">
        <img src="./images/visual03.jpg" alt="메인이미지3">
      </div>
      <!-- 공통 ui구성요소 sns, 컨트롤버튼, 좌우버튼 -->

      <!-- sns아이콘 -->
      <ul class="sns">
        <li><a href="#" title="페이스북"><i class="fab fa-facebook-f"></i></a></li>
        <li><a href="#" title="인스타그램"><i class="fab fa-instagram"></i></a></li>
        <li><a href="#" title="유튜브"><i class="fab fa-youtube"></i></a></li>
      </ul>

      <!-- 좌,우 방향버튼 -->
      <ul class="s_btn">
        <li><img src="./images/left.png" alt="이전버튼"></li>
        <li><img src="./images/right.png" alt="다음버튼"></li>
      </ul>

      <!-- 컨트롤버튼 -->
      <ul class="ctrl_btn">
        <li class="on">&nbsp;</li>
        <li>&nbsp;</li>
        <li>&nbsp;</li>
      </ul>
    </article>

    <!-- 2. 뉴스콘텐츠 -->
    <section class="news_con">
      <article></article>
      <article></article>
    </section>

    <!-- 3. 탭콘텐츠 -->
    <section class="tab_con">
      <article>
        <h2>당신이 몰랐던 식이섬유</h2>
        <ul class="tab_con_wrap">
          <li>
            <a href="#" title="식이섬유란" class="tab_act">식이섬유란&#x003F;</a>
            <div class="con01">
              <p class="big">식이섬유란&#x003F;</p>
              <p>사람의 소화효소로 분해되지 않는 성분, 몸 속의 과다한 양분흡수를 막아주고, 장의 리듬을 조절하며, 음식물이 장 속에 머무는 시간을 단축시키는 등 현대 식생활에 꼭 필요한 물질로 제 7의 영양소로 주목 받고 있음</p>
              <p class="small">&#x203B;출처 &#x003A; 파워푸드 슈퍼푸드 사전</p>
            </div>
          </li>
          <li>
            <a href="#" title="식이섬유 기능">식이섬유 기능</a>
            <div class="con02">
              <p class="big">식이섬유의 기능</p>
              <p>1.배설활동 촉진, 변비 예방</p>
              <p>2.대사질환에 효과적</p>
              <p>3.콜레스테롤 감소</p>
            </div>
          </li>
          <li>
            <a href="#" title="식이섬유를 섭취하려면">식이섬유를 섭취하려면?</a>
            <div class="con03">
              <p class="big">식이섬유를 섭취하려면?</p>
              <p>
                <img src="./images/100ml.png" alt="100ml">
                <ul>
                  <li>딸기6개</li>
                  <li>바나나1개</li>
                  <li>토마토2개</li>
                  <li>미에로 100mL</li>
                </ul>
              </p>
              <p>
                <img src="./images/210ml.png" alt="210ml">
                <ul>
                  <li>딸기13개</li>
                  <li>바나나2개</li>
                  <li>토마토4개</li>
                  <li>미에로 210mL</li>
                </ul>
              </p>
              <p>
                <img src="./images/350ml.png" alt="350ml">
                <ul>
                  <li>딸기20개</li>
                  <li>바나나4개</li>
                  <li>토마토6개</li>
                  <li>미에로 350mL</li>
                </ul>
              </p>
              <p> 
                <img src="./images/1_2l.png" alt="1.2l">
                <ul>
                  <li>딸기72개</li>
                  <li>바나나12개</li>
                  <li>토마토24개</li>
                  <li>미에로 1.2L</li>
                </ul>
              </p>
              <p class="small">&#x203B;딸기21g/1개, 바나나 100g/개, 토마토175g/개 기준</p>
              <p class="small">&#x203B;출처 &#x003A; 식품교환표(대한영양사협회 2010년판), 한국인영양섭취기준(한국영양학회 2010년 개정판)</p>
            </div>
          </li>
        </ul>
      </article>
    </section>

    <!-- 4. 인기제품 -->
    <section class="best_product">
      <article></article>
    </section>

    <!-- 5. 이벤트 -->
    <section class="event">
      <h2>미에로화이바 event</h2>
      <article class="e_slide">
        <div class="es_wrap">
          <div>
            <a href="#" title="이벤트1">
              <img src="./images/img01.png" alt="이벤트1">
              <div class="e_txt">
                <span>종료</span>
                <h3>[미에로화이바 이모지 이벤트]</h3>
                <p>2023.04.18 ~ 2023.04.24</p>
              </div>
            </a>
          </div>
          <div>
            <a href="#" title="이벤트2">
              <img src="./images/img02.png" alt="이벤트2">
              <div class="e_txt">
                <span>종료</span>
                <h3>[미에로화이바 스파클링 제로 케미]</h3>
                <p>2023.05.09 ~ 2023.05.15</p>
              </div>
            </a>
          </div>
          <div>
            <a href="#" title="이벤트3">
              <img src="./images/img03.jpg" alt="이벤트3">
              <div class="e_txt">
                <span>종료</span>
                <h3>[미에로화이바 즐기는 법 이벤트]</h3>
                <p>2023.03.09 ~ 2023.03.15</p>
              </div>
            </a>
          </div>
        </div>
      </article>
      <i class="fas fa-angle-left"></i>
      <i class="fas fa-angle-right"></i>
    </section>

    <!-- 6. 스토리 갤러리 -->
    <section class="gallery">
      <h2>미에로화이바 Girl 스토리</h2>
      <article><img src="./images/01.jpg" alt="이미지1"></article>
      <article class="i02"><img src="./images/02.jpg" alt="이미지2"></article>
      <article><img src="./images/03.jpg" alt="이미지3"></article>
      <article><img src="./images/04.jpg" alt="이미지4"></article>
      <!-- <article class="i05">item5</article> -->
      <article><img src="./images/05.jpg" alt="이미지5"></article>
      <article><img src="./images/06.jpg" alt="이미지6"></article>
      <article><img src="./images/07.jpg" alt="이미지7"></article>
      <article><img src="./images/08.jpg" alt="이미지8"></article>
    </section>

  </main>
  
  <!-- 푸터영역 시작 -->
  <footer></footer>


  <!-- 제이쿼리 라이브러리 -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>

  <script>
    $(document).ready(function(){
      // 내비게이션
      let gnb = $('header .gnb > ul > li > a');

      // gnb메뉴 클릭시 해당 서브메뉴 보이게 하기
      gnb.click(function(){
        //$('.sub').hide(); //보이는 서브 숨기고
        // 선택한 서브만 보이게한다.
        $(this).next().toggle().parent().siblings().find('.sub').hide();
      });

      // 메인클릭시 서브 숨기기
      $('main').click(function(){
        $('.sub').hide();
      });

      // 모바일 토글버튼 모양 변경
      $('#toggle').click(function(){
        $('#toggle span:nth-child(2)').toggle();
        $('#toggle span:first-child').toggleClass('rotate1');
        $('#toggle span:last-child').toggleClass('rotate2');
        $(this).toggleClass('act');
        $('.gnb').slideToggle();
      });


      // 1. 메인슬라이드--------------------------------------------------------
      // 1) 변수선언
      const l_btn = $('.s_btn li:first-child'); //왼쪽 버튼
      const r_btn = $('.s_btn li:last-child'); //오른쪽 버튼
      const c_btn = $('.ctrl_btn li'); //컨트롤 버튼
      let v_slide_img = $('.visual > div'); //슬라이드 이미지

      let i = 0;

      // 2) 움직이는 함수 = 서서히 사라지고 나타나는 효과
      function bannerEffect(){
        // console.log('시간함수 호출');
        v_slide_img.fadeOut(); //보이는 이미지 숨기고
        $('.visual .ctrl_btn li').removeClass('on'); //컨트롤 버튼 서식 모두 제거
        if(i==2){ //만약에 마지막 이미지라면
          i=0; //처음이미지가 보이게 하고
        }else{ //그렇지 않다면
          i++; //다음 이미지가 보이도록 한다.
        }
        $('.visual .ctrl_btn li').eq(i).addClass('on'); //선택한 컨트롤 버튼에 서식 적용
        v_slide_img.eq(i).stop().fadeIn(); //해당 이미지가 보이게 한다. (stop은 한번만 넘어가게 막아주는 것)
      }
      function bannerEffect2(){
        v_slide_img.fadeOut();
        $('.visual .ctrl_btn li').removeClass('on'); //컨트롤 버튼 서식 모두 제거
        if(i==0){
          i=2;
        }else{
          i--;
        }
        $('.visual .ctrl_btn li').eq(i).addClass('on'); //선택한 컨트롤 버튼에 서식 적용
        v_slide_img.eq(i).stop().fadeIn();
      }

      // 3) 매 5초마다 함수를 반복호출하여 슬라이드가 변하게 한다.
      let Timer = setInterval(bannerEffect, 5000);

      // 좌,우 버튼 클릭시 해당하는 방향으로 슬라이드 이미지가 나오게 하기
      l_btn.click(function(){
        bannerEffect2();
      });

      r_btn.click(function(){
        bannerEffect();
      });

      // 좌, 우 버튼에 마우스 오버시 시간을 제거하고
      $('.s_btn > li').hover(function(){
        clearInterval(Timer);
      },function(){ //다시 마우스 아웃시 시간을 생성하여 다시 움직이게 한다.
        Timer = setInterval(bannerEffect, 5000);
      });

      // pagination(컨트롤 버튼)
      // 1. 현재이미지 번호를 체크
      // 2. 이미지 전체 개수

      /*
        구현순서
        1. 컨트롤 버튼 변수 선언
        2. 컨트롤 버튼(li) 클릭시 인덱스값 0,1,2 값을 출력
        3. 인덱스 값을 bannerEffect함수의 매개변수값으로 넘김 => 슬라이드가 변함
        4. 사용자가 클릭한 컨트롤 버튼(li)에 act서식을 적용하여 어둡게함.
      */

      c_btn.click(function(){
        clearInterval(Timer); //기존 자동슬라이드 제거

        let idx = $(this).index();
        console.log(idx); //0,1,2

        v_slide_img.fadeOut(); //보이는 이미지 숨기고
        $('.visual .ctrl_btn li').removeClass('on'); //컨트롤 버튼 서식 모두 제거

        $('.visual .ctrl_btn li').eq(idx).addClass('on'); //선택한 컨트롤 버튼에 서식 적용
        v_slide_img.eq(idx).stop().fadeIn(); //해당 이미지가 보이게 한다. (stop은 한번만 넘어가게 막아주는 것)

        i = idx; //원래 i값에 idx값을 일치시켜서 다음 순서가 제대로 나오게
      });

      // 컨트롤버튼에 마우스 아웃시 다시 자동으로 움직이도록 시간객체를 생성함.
      c_btn.mouseenter(function(){
        clearInterval(Timer);
      });

      c_btn.mouseleave(function(){
        Timer = setInterval(bannerEffect, 5000);
      });

      // 윈도우창의 너비값 = $(window).width(); or $(window).height();
      // $(window).innerWidth(); 패딩값을 포함한 너비

      let w_width;

      // 브라우저의 크기가 변하면 함수내용을 실행한다.
      // $(window).resize(function(){

      //   w_width = $(window).innerWidth();
      //   console.log(w_width);
        
      //   if(w_width>=1025){
      //     // pc버전 해상도일 경우 배경색 노랑
      //     $('body').css('background', '#ff0');

      //     $('header h1 img').attr('src', './images/logo2.png');
      //   }else if(w_width>=768){
      //     // tablet버전 해상도일 경우 배경색 초록
      //     $('body').css('background', '#0f0');

      //     $('header h1 img').attr('src', './images/logo.png');
      //   }else{
      //     // mobile버전 해상도일 경우 배경색 회색
      //     $('body').css('background', '#ccc');

      //     $('header h1 img').attr('src', './images/logo.png');
      //   }
      // }).resize();

      // 3. 탭콘텐츠 ---------------------------------------------------------
      let tab_mnu = $('.tab_con_wrap li a');
      $('.tab_con_wrap li:first-child div').show();
      tab_mnu.click(function(){
        $(this).next().show().parent().siblings().find('div').hide();

        $(this).addClass('tab_act').parent().siblings().find('a').removeClass('tab_act');

        // li태그의 인덱스 번호를 구ㅐ하여
        const i = $(this).parent().index();
        console.log(i);
        // 만약 인덱스가 2라면(3번째 li태그)
        if(i==2){
          // 부모박스 높이를 키우고
          $('.tab_con article').height(850);
        }else{
          // 그렇지 않으면(0, 1일 때) 원래높이로 설정함.
          $('.tab_con article').height(600);
        }

        return false;
      });

      // 5. 이벤트 슬라이드 -----------------------------------------------------
      const eslide = $('.es_wrap');
      const es_lbtn = $('.event i.fa-angle-left');
      const es_rbtn = $('.event i.fa-angle-right');
      
      // 첫번째 슬라이드의 앞에 마지막 이미지를 배치
      $('.es_wrap > div:last-child').insertBefore('.es_wrap > div:first-child');

      // 왼쪽으로 1200px 이동하여 첫번째 이미지가 가운데 배치되도록 한다.
      eslide.css('margin-left','-1200px');

      // moveRight 함수
      function moveLeft(){
        eslide.animate({'margin-left':'-2400px'},500, function(){
          $('.es_wrap > div:first-child').insertAfter('.es_wrap > div:last-child');
          eslide.css('margin-left','-1200px');
        });
      } 

      // 시간객체를 사용하여 4초마다 움직이도록 한다.
      let Timer2 = setInterval(moveLeft, 4000);

      // moveLeft 함수
      function moveRight(){
        eslide.animate({'margin-left':'0px'},500, function(){
          $('.es_wrap > div:last-child').insertBefore('.es_wrap > div:first-child');
          eslide.css('margin-left','-1200px');
        });
      } 

      // 좌측버튼 클릭시 
      es_lbtn.click(function(){
        clearInterval(Timer2);
        moveRight();
      });
      es_rbtn.click(function(){
        clearInterval(Timer2);
        moveLeft();
      });

      $('.event i.fas').mouseleave(function(){
        Timer2 = setInterval(moveLeft, 4000);
      });

    });
  </script>

</body>
</html>
